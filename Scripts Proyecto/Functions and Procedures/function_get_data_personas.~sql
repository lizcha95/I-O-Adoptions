CREATE OR REPLACE FUNCTION get_data_Usuario(pUsername in varchar2, pPassword in varchar2)
       RETURN tableDataPersonas PIPELINED is
       rec typeDataPersonas := typeDataPersonas(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
       BEGIN
         FOR item IN (
           select vp.cedula_persona, vp.nombre, vp.apellido, vp.fecha_nacimiento, vp.correo, vp.numero_telefono,
             vp.nombre_pais, vp.nombre_provincia,vp.nombre_canton, vp.direccion_exacta, vp.notas_adoptante
              from view_all_data_personas vp, usuarios u
              where u.username = pUsername and u.contrasenia = pPassword and
              vp.username = u.username)
         LOOP
         rec.cedula := item.cedula_persona;
         rec.nombre := item.nombre;
         rec.apellido := item.apellido;
         rec.fechaNacimiento := item.fecha_nacimiento;
         rec.correo := item.correo;
         rec.telefono := item.numero_telefono;
         rec.nombre_pais := item.nombre_pais;
         rec.nombre_provincia := item.nombre_provincia;
         rec.nombre_canton := item.nombre_canton;
         rec.direccion_exacta := item.direccion_exacta;
         rec.notas_adoptante := item.notas_adoptante;
         PIPE ROW (rec);
         END LOOP;
         RETURN;
end get_data_Usuario;
